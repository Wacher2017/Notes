<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>匀速运动终止条件</title>
	<style type="text/css">
		#div1 {width: 100px;height: 100px;background: red;position: absolute;top: 50px;left: 600px;}
		#div2 {width: 1px;height: 300px;background: black;position: absolute;top: 0px;left: 100px;}
		#div3 {width: 1px;height: 300px;background: black;position: absolute;top: 0px;left: 300px;}
	</style>
	<script type="text/javascript">
		var timer = null
		function startMove(iTarget) {
			var oDiv = document.getElementById('div1');
			clearInterval(timer);
			timer = setInterval(function() {
				var speed = 0;
				if(oDiv.offsetLeft < iTarget) {
					speed = 7;
				} else {
					speed = -7;
				}
				if(Math.abs(iTarget-oDiv.offsetLeft) <= 7) {
					clearInterval(timer);
					oDiv.style.left = iTarget + 'px';
				} else {
					oDiv.style.left = oDiv.offsetLeft + speed + 'px';
				}							
			}, 30);
		}
	</script>
</head>
<body>
	<input id="btn1" type="button" value="到100" onclick="startMove(100)">
	<input id="btn2" type="button" value="到300" onclick="startMove(300)">
	<div id="div1"></div>
	<div id="div2"></div>
	<div id="div3"></div>
</body>
</html>